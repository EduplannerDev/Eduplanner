# üéì EduPlanner

**Planeaciones Did√°cticas con Inteligencia Artificial**

EduPlanner es una plataforma web moderna dise√±ada para ayudar a educadores a crear, gestionar y optimizar sus planeaciones did√°cticas, ex√°menes y comunicaciones con padres de familia utilizando inteligencia artificial.

## ‚ú® Caracter√≠sticas Principales

### üìã Gesti√≥n de Planeaciones
- **Crear Planeaciones**: Genera planeaciones did√°cticas personalizadas con IA
- **Planeaciones NEM**: Metodolog√≠a tradicional de la Nueva Escuela Mexicana
- **Planeaciones CIME**: Metodolog√≠a constructivista con materiales concretos (Solo PRO)
- **Mis Planeaciones**: Visualiza, edita y gestiona todas tus planeaciones
- **Exportaci√≥n**: Descarga planeaciones en formato DOCX y PDF
- **Enlace con Proyectos**: Vincula planeaciones directamente con momentos de proyectos

### üìù Sistema de Ex√°menes
- **Generar Ex√°menes**: Crea ex√°menes autom√°ticamente con IA
- **Mis Ex√°menes**: Administra tu biblioteca de ex√°menes
- **M√∫ltiples Formatos**: Exporta en DOCX, PDF y PowerPoint

### üí¨ Comunicaci√≥n con Padres
- **Generar Mensajes**: Crea mensajes personalizados para padres de familia
- **Adaptaci√≥n WhatsApp**: Formatea mensajes para WhatsApp
- **Historial**: Guarda y reutiliza mensajes anteriores

### ü§ñ Chat con IA
- **Asistente Educativo**: Chat interactivo para consultas pedag√≥gicas
- **Sugerencias Personalizadas**: Recomendaciones basadas en tu perfil

### üè¢ Administraci√≥n y Gesti√≥n de Planteles
- **Gesti√≥n de Planteles**: Administra m√∫ltiples planteles educativos
- **Asignaci√≥n de Usuarios**: Asigna profesores y directores a planteles espec√≠ficos
- **L√≠mites de Usuarios**: Control de l√≠mites por plantel (profesores y directores)
- **Estad√≠sticas de Plantel**: Dashboard con m√©tricas y estad√≠sticas por plantel
- **Roles y Permisos**: Sistema de roles (Administrador, Director, Profesor)

### üìä Dosificaci√≥n Curricular y Seguimiento
- **Distribuci√≥n Temporal**: Organiza contenidos por trimestres de forma inteligente
- **Seguimiento Acad√©mico**: Monitoreo del progreso curricular por campo formativo
- **Campos Formativos**: Gesti√≥n de los 4 campos formativos del NMCM
- **Estad√≠sticas de Progreso**: Dashboard con porcentajes de avance por trimestre
- **Acciones Sugeridas**: Recomendaciones autom√°ticas basadas en el progreso

### üë• Gesti√≥n de Grupos y Alumnos
- **Crear Grupos**: Organiza estudiantes por grado y ciclo escolar
- **Gesti√≥n de Alumnos**: Registro completo de informaci√≥n estudiantil
- **Informaci√≥n de Padres**: Datos de contacto y comunicaci√≥n con familias
- **Expedientes Individuales**: Seguimiento personalizado por alumno
- **Notas y Observaciones**: Registro de seguimiento acad√©mico y conductual

### üìã Sistema de Asistencia
- **Tomar Asistencia**: Registro diario de asistencia por grupo
- **Estados de Asistencia**: Presente, ausente, retardo, justificado
- **Estad√≠sticas de Asistencia**: Reportes y an√°lisis de asistencia
- **Historial de Asistencia**: Seguimiento temporal por alumno

### üéØ Proyectos Educativos
- **Asistente de Proyectos**: Creaci√≥n de proyectos con IA en 3 fases
- **Gesti√≥n de Proyectos**: Administraci√≥n completa de proyectos educativos
- **Fases y Momentos**: Estructura autom√°tica generada por IA
- **Seguimiento de Proyectos**: Monitoreo del progreso y estado
- **Generaci√≥n de Planeaciones**: Crea planeaciones NEM y CIME directamente desde momentos del proyecto
- **Enlace Autom√°tico**: Vincula autom√°ticamente planeaciones generadas con momentos espec√≠ficos
- **Vista Integrada**: Visualiza planeaciones enlazadas sin salir del m√≥dulo de proyectos

### üìù Instrumentos de Evaluaci√≥n
- **R√∫bricas Anal√≠ticas**: Generaci√≥n autom√°tica de r√∫bricas con IA
- **Listas de Cotejo**: Instrumentos de evaluaci√≥n personalizados
- **Escalas de Estimaci√≥n**: Herramientas de evaluaci√≥n variadas
- **Gesti√≥n de Instrumentos**: Administraci√≥n y organizaci√≥n de evaluaciones

### üìÖ Calendario y Eventos Escolares
- **Calendario Interactivo**: Gesti√≥n de eventos con FullCalendar
- **Eventos Escolares**: Importaci√≥n autom√°tica del calendario SEP
- **Vinculaci√≥n de Contenidos**: Conexi√≥n con planeaciones y ex√°menes
- **Categorizaci√≥n**: Organizaci√≥n por tipos de eventos
- **Generaci√≥n Autom√°tica**: Eventos del calendario escolar oficial

### üë§ Gesti√≥n de Perfil
- **Perfil Personalizado**: Configura tu informaci√≥n personal y profesional
- **Suscripciones**: Gesti√≥n de planes y pagos con Stripe
- **Feedback**: Sistema de retroalimentaci√≥n integrado
- **Sistema de Invitaciones**: Invitaci√≥n de usuarios por email con roles espec√≠ficos
- **Modal de Bienvenida**: Video introductorio para nuevos usuarios
- **Persistencia Cross-Device**: Estado de bienvenida sincronizado entre dispositivos

### üëë Suscripciones PRO
- **Planeaciones CIME**: Acceso exclusivo a metodolog√≠a constructivista
- **Planeaciones por Dosificaci√≥n**: Generaci√≥n autom√°tica desde dosificaci√≥n curricular
- **L√≠mites Ampliados**: Sin restricciones en creaci√≥n de contenido
- **Estad√≠sticas Avanzadas**: Dashboard con m√©tricas detalladas de suscriptores PRO
- **Gesti√≥n de Ventas**: Herramientas de administraci√≥n para seguimiento de ingresos

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Frontend
- **Next.js 15** - Framework de React con App Router
- **React 19** - Biblioteca de interfaz de usuario
- **TypeScript** - Tipado est√°tico
- **Tailwind CSS** - Framework de estilos utilitarios
- **Radix UI** - Componentes de interfaz accesibles
- **Lucide React** - Iconograf√≠a moderna
- **FullCalendar** - Calendario interactivo
- **Recharts** - Gr√°ficos y visualizaciones
- **TipTap** - Editor de texto enriquecido

### Backend & Base de Datos
- **Supabase** - Backend como servicio (BaaS)
- **PostgreSQL** - Base de datos relacional
- **Supabase Auth** - Autenticaci√≥n y autorizaci√≥n
- **Row Level Security (RLS)** - Seguridad a nivel de fila

### Inteligencia Artificial
- **Google AI SDK (Gemini)** - Servicios principales de IA
- **Vercel AI SDK** - Integraci√≥n de IA optimizada
- **Sistema de Embeddings** - B√∫squeda sem√°ntica de documentaci√≥n
- **Metodolog√≠as Especializadas** - Prompts espec√≠ficos para NEM y CIME
- **Generaci√≥n Contextual** - IA adaptada al contexto de proyectos educativos

### Generaci√≥n de Documentos
- **docx** - Generaci√≥n de documentos Word
- **jsPDF** - Creaci√≥n de archivos PDF
- **PptxGenJS** - Generaci√≥n de presentaciones PowerPoint
- **html2pdf.js** - Conversi√≥n HTML a PDF
- **Puppeteer** - Generaci√≥n de PDFs avanzada

### Pagos y Comunicaci√≥n
- **Stripe** - Procesamiento de pagos
- **Resend** - Servicio de email transaccional

### Calendario y Eventos
- **FullCalendar** - Calendario interactivo completo
- **iCal** - Importaci√≥n de calendarios escolares
- **Date-fns** - Manipulaci√≥n de fechas

### Herramientas de Desarrollo
- **React Hook Form** - Manejo de formularios
- **Zod** - Validaci√≥n de esquemas
- **SweetAlert2** - Alertas y modales elegantes
- **Sonner** - Notificaciones toast
- **Microsoft Clarity** - Analytics y monitoreo
- **Vercel Analytics** - M√©tricas de rendimiento

## üöÄ Instalaci√≥n y Configuraci√≥n

### Prerrequisitos
- Node.js 18+ 
- npm, yarn o pnpm
- Cuenta de Supabase
- API Keys de OpenAI
- Cuenta de Stripe (para pagos)

### Instalaci√≥n

1. **Clonar el repositorio**
```bash
git clone https://github.com/tu-usuario/eduplanner.git
cd eduplanner
```

2. **Instalar dependencias**
```bash
npm install
# o
yarn install
# o
pnpm install
```

3. **Configurar variables de entorno**

Crea un archivo `.env.local` en la ra√≠z del proyecto:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=tu_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=tu_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=tu_service_role_key

# OpenAI
OPENAI_API_KEY=tu_openai_api_key

# Google AI (requerido para generaci√≥n de contenido)
GOOGLE_GENERATIVE_AI_API_KEY=tu_google_ai_key

# Stripe
STRIPE_SECRET_KEY=tu_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=tu_stripe_publishable_key

# Resend (para emails)
RESEND_API_KEY=tu_resend_api_key
```

4. **Configurar la base de datos**

Ejecuta las migraciones de Supabase:
```bash
# Si tienes Supabase CLI instalado
supabase db push
```

O ejecuta manualmente los archivos SQL en `supabase/migrations/`

5. **Ejecutar en desarrollo**
```bash
npm run dev
# o
yarn dev
# o
pnpm dev
```

La aplicaci√≥n estar√° disponible en `http://localhost:3000`

## üìö Scripts Disponibles

- `npm run dev` - Inicia el servidor de desarrollo
- `npm run build` - Construye la aplicaci√≥n para producci√≥n
- `npm run start` - Inicia el servidor de producci√≥n
- `npm run lint` - Ejecuta el linter
- `npm run docs` - Inicia el servidor de documentaci√≥n API
- `npm run docs:install` - Instala dependencias para documentaci√≥n
- `npm run docs:build` - Genera documentaci√≥n en formato YAML
- `npm run import-calendar` - Importa calendario escolar oficial
- `npx tsx scripts/get-pro-stats.ts` - Obtiene estad√≠sticas de suscriptores PRO

## üìñ Documentaci√≥n

### Documentaci√≥n API
La documentaci√≥n de la API est√° disponible en formato Swagger:

1. **Instalar dependencias de documentaci√≥n**:
```bash
npm run docs:install
```

2. **Iniciar servidor de documentaci√≥n**:
```bash
npm run docs
```

3. **Acceder a la documentaci√≥n**:
   - Swagger UI: `http://localhost:3001`
   - Archivo YAML: `swagger.yaml`

### Flujos de Usuario Documentados
El proyecto incluye documentaci√≥n detallada de flujos de usuario en `docs/flujos/`:

- **COMO_CREAR_PLANEACION.txt** - Gu√≠a completa para crear planeaciones did√°cticas
- **COMO_GENERAR_EXAMEN.txt** - Proceso para generar ex√°menes con IA
- **COMO_CREAR_PROYECTO.txt** - Creaci√≥n de proyectos educativos en 3 fases
- **COMO_GESTIONAR_MIS_PROYECTOS.txt** - Administraci√≥n de proyectos e instrumentos
- **COMO_USAR_DOSIFICACION.txt** - Uso del m√≥dulo de dosificaci√≥n curricular

### Sistema de Documentaci√≥n Vectorizada
- **B√∫squeda Sem√°ntica**: Sistema inteligente de b√∫squeda en documentaci√≥n
- **Embeddings**: Procesamiento autom√°tico de contenido educativo
- **Filtrado por M√≥dulo**: B√∫squeda espec√≠fica por funcionalidad
- **Extracci√≥n de Palabras Clave**: Identificaci√≥n autom√°tica de t√©rminos relevantes

### Documentaci√≥n T√©cnica
- **CONFIGURACION_CORREOS.md** - Configuraci√≥n del sistema de emails
- **MODULO_CORREOS.md** - Documentaci√≥n del m√≥dulo de comunicaci√≥n
- **NOTIFICATIONS.md** - Sistema de notificaciones
- **TOUR_IMPLEMENTATION.md** - Documentaci√≥n del sistema de tours guiados

### Estad√≠sticas y Analytics
- **Dashboard de Suscriptores PRO** - M√©tricas detalladas de usuarios premium
- **Scripts de An√°lisis** - Herramientas para obtener estad√≠sticas de ventas
- **Reportes de Conversi√≥n** - An√°lisis de tasas de conversi√≥n y churn

## üèóÔ∏è Estructura del Proyecto

```
eduplanner/
‚îú‚îÄ‚îÄ app/                    # App Router de Next.js
‚îÇ   ‚îú‚îÄ‚îÄ api/               # Rutas de API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat/          # Chat con IA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate-*/    # Generadores de contenido (CIME, NEM, ex√°menes)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ proyectos/     # API de proyectos educativos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ instrumentos-evaluacion/ # Instrumentos de evaluaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stripe/        # Integraci√≥n de pagos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invite-user/   # Sistema de invitaciones
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/         # Rutas de administraci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ admin/             # P√°ginas de administraci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pro-stats/     # Dashboard de estad√≠sticas PRO
‚îÇ   ‚îú‚îÄ‚îÄ globals.css        # Estilos globales
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Layout principal
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx           # P√°gina de inicio
‚îú‚îÄ‚îÄ components/            # Componentes React
‚îÇ   ‚îú‚îÄ‚îÄ sections/          # Secciones de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin-*.tsx    # Componentes de administraci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dosificacion.tsx # M√≥dulo de dosificaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gestionar-*.tsx # Gesti√≥n de grupos y alumnos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ proyecto-*.tsx # Componentes de proyectos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agenda.tsx     # Calendario y eventos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ expediente-alumno.tsx # Expedientes estudiantiles
‚îÇ   ‚îú‚îÄ‚îÄ ui/               # Componentes de UI reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ app-sidebar.tsx   # Sidebar principal
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.tsx     # Dashboard principal
‚îú‚îÄ‚îÄ hooks/                # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ use-auth.ts       # Autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ use-roles.ts      # Gesti√≥n de roles
‚îÇ   ‚îú‚îÄ‚îÄ use-proyectos.ts  # Hook de proyectos
‚îÇ   ‚îî‚îÄ‚îÄ use-documentation-search.ts # B√∫squeda sem√°ntica
‚îú‚îÄ‚îÄ lib/                  # Utilidades y configuraciones
‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts       # Configuraci√≥n de Supabase
‚îÇ   ‚îú‚îÄ‚îÄ docx-generator.ts # Generador de documentos Word
‚îÇ   ‚îú‚îÄ‚îÄ pdf-generator.ts  # Generador de PDFs
‚îÇ   ‚îú‚îÄ‚îÄ pptx-generator.ts # Generador de PowerPoint
‚îÇ   ‚îú‚îÄ‚îÄ planteles.ts      # Gesti√≥n de planteles
‚îÇ   ‚îú‚îÄ‚îÄ grupos.ts         # Gesti√≥n de grupos
‚îÇ   ‚îú‚îÄ‚îÄ alumnos.ts        # Gesti√≥n de alumnos
‚îÇ   ‚îú‚îÄ‚îÄ asistencia.ts     # Sistema de asistencia
‚îÇ   ‚îú‚îÄ‚îÄ proyectos.ts      # Gesti√≥n de proyectos
‚îÇ   ‚îú‚îÄ‚îÄ events.ts         # Calendario y eventos
‚îÇ   ‚îú‚îÄ‚îÄ invitations.ts    # Sistema de invitaciones
‚îÇ   ‚îú‚îÄ‚îÄ planeaciones.ts   # Gesti√≥n de planeaciones
‚îÇ   ‚îú‚îÄ‚îÄ subscription-utils.ts # Utilidades de suscripciones
‚îÇ   ‚îú‚îÄ‚îÄ pro-subscription-stats.ts # Estad√≠sticas de suscriptores PRO
‚îÇ   ‚îî‚îÄ‚îÄ welcome-modal.ts  # Sistema de modal de bienvenida
‚îú‚îÄ‚îÄ docs/                 # Documentaci√≥n del proyecto
‚îÇ   ‚îú‚îÄ‚îÄ flujos/           # Flujos de usuario documentados
‚îÇ   ‚îú‚îÄ‚îÄ CONFIGURACION_CORREOS.md
‚îÇ   ‚îú‚îÄ‚îÄ MODULO_CORREOS.md
‚îÇ   ‚îî‚îÄ‚îÄ NOTIFICATIONS.md
‚îú‚îÄ‚îÄ public/               # Archivos est√°ticos
‚îú‚îÄ‚îÄ supabase/            # Migraciones de base de datos
‚îÇ   ‚îú‚îÄ‚îÄ migrations/      # Archivos SQL de migraci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ config.toml      # Configuraci√≥n de Supabase
‚îú‚îÄ‚îÄ scripts/             # Scripts de utilidad
‚îÇ   ‚îú‚îÄ‚îÄ import-school-calendar.ts # Importaci√≥n de calendario
‚îÇ   ‚îú‚îÄ‚îÄ generate-curriculo-embeddings.ts # Embeddings curriculares
‚îÇ   ‚îú‚îÄ‚îÄ get-pro-stats.ts # Estad√≠sticas de suscriptores PRO
‚îÇ   ‚îî‚îÄ‚îÄ serve-docs.js    # Servidor de documentaci√≥n
‚îú‚îÄ‚îÄ styles/              # Estilos adicionales
‚îÇ   ‚îî‚îÄ‚îÄ tour.css         # Estilos para tours guiados
‚îî‚îÄ‚îÄ contexts/            # Contextos de React
    ‚îú‚îÄ‚îÄ TourContext.tsx  # Contexto para tours
    ‚îî‚îÄ‚îÄ PlanningTourContext.tsx # Contexto para tours de planeaci√≥n
```

## üÜï Nuevas Funcionalidades

### Modal de Bienvenida
- **Video Introductorio**: Presentaci√≥n autom√°tica para nuevos usuarios
- **Persistencia Cross-Device**: Estado sincronizado entre navegadores
- **Base de Datos**: Almacenamiento seguro del estado de visualizaci√≥n

### Planeaciones CIME y NEM
- **Metodolog√≠a CIME**: Planeaciones constructivistas con materiales concretos (Solo PRO)
- **Metodolog√≠a NEM**: Planeaciones tradicionales de la Nueva Escuela Mexicana
- **Generaci√≥n desde Proyectos**: Creaci√≥n directa desde momentos de proyectos
- **Enlace Autom√°tico**: Vinculaci√≥n autom√°tica con momentos espec√≠ficos
- **Vista Integrada**: Visualizaci√≥n sin salir del m√≥dulo de proyectos

### Sistema de Tours Guiados
- **Tours Interactivos**: Gu√≠as paso a paso para nuevos usuarios
- **Contextos Especializados**: Tours espec√≠ficos por m√≥dulo
- **Persistencia de Estado**: Recordar progreso del usuario
- **Reset de Tours**: Opci√≥n para reiniciar experiencias

### Dashboard de Suscriptores PRO
- **Estad√≠sticas Detalladas**: M√©tricas completas de usuarios premium
- **An√°lisis de Ventas**: Seguimiento de ingresos y conversiones
- **Reportes de Churn**: An√°lisis de cancelaciones y retenci√≥n
- **Scripts de An√°lisis**: Herramientas de l√≠nea de comandos

## üîê Autenticaci√≥n y Seguridad

- **Supabase Auth**: Manejo seguro de autenticaci√≥n
- **Row Level Security (RLS)**: Pol√≠ticas de seguridad a nivel de fila
- **API Keys**: Gesti√≥n segura de claves de API
- **Validaci√≥n**: Validaci√≥n de datos con Zod

## üåê Despliegue

### Vercel (Recomendado)

1. Conecta tu repositorio con Vercel
2. Configura las variables de entorno
3. Despliega autom√°ticamente

### Variables de Entorno para Producci√≥n

Aseg√∫rate de configurar todas las variables de entorno necesarias en tu plataforma de despliegue.

## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## üìû Soporte

Para soporte t√©cnico o preguntas:
- üìß Email: soporte@eduplanner.com
- üí¨ Chat: Disponible en la aplicaci√≥n
- üìö FAQ: Secci√≥n de preguntas frecuentes en la app

## üôè Agradecimientos

- **OpenAI** por proporcionar las capacidades de IA
- **Supabase** por el backend robusto
- **Vercel** por el hosting y despliegue
- **Radix UI** por los componentes accesibles
- **Tailwind CSS** por el sistema de dise√±o

---

**Desarrollado con ‚ù§Ô∏è para educadores que transforman el futuro**