-- Migración: Insertar eventos de prueba para la agenda
-- ===================================================
-- Esta migración inserta eventos de prueba para verificar el funcionamiento de la agenda

-- Insertar eventos de prueba (estos eventos se crearán para el primer usuario que se registre)
-- NOTA: En un entorno de producción, estos datos de prueba no deberían incluirse

-- Función para insertar eventos de prueba para un usuario específico
CREATE OR REPLACE FUNCTION insert_test_events_for_user(target_user_id UUID)
RETURNS VOID AS $$
BEGIN
    -- Eventos para hoy
    INSERT INTO events (user_id, title, description, category, event_date, event_time, hashtags) VALUES
    (target_user_id, 'Reunión de equipo', 'Reunión semanal del equipo de desarrollo #trabajo #reunion', 'reunion', CURRENT_DATE, '09:00:00', ARRAY['trabajo', 'reunion']),
    (target_user_id, 'Entrega de proyecto', 'Entrega final del proyecto de matemáticas #urgente #escuela', 'entrega', CURRENT_DATE, '14:00:00', ARRAY['urgente', 'escuela']);
    
    -- Eventos para mañana
    INSERT INTO events (user_id, title, description, category, event_date, event_time, hashtags) VALUES
    (target_user_id, 'Clase de inglés', 'Clase de inglés avanzado #educacion #ingles', 'evento-escolar', CURRENT_DATE + INTERVAL '1 day', '10:00:00', ARRAY['educacion', 'ingles']),
    (target_user_id, 'Cita médica', 'Cita con el doctor #salud #personal', 'personal', CURRENT_DATE + INTERVAL '1 day', '16:30:00', ARRAY['salud', 'personal']);
    
    -- Eventos para esta semana
    INSERT INTO events (user_id, title, description, category, event_date, event_time, hashtags) VALUES
    (target_user_id, 'Presentación final', 'Presentación del proyecto final #importante #presentacion', 'evento-escolar', CURRENT_DATE + INTERVAL '3 days', '11:00:00', ARRAY['importante', 'presentacion']),
    (target_user_id, 'Reunión con padres', 'Reunión trimestral con padres de familia #reunion #padres', 'reunion', CURRENT_DATE + INTERVAL '4 days', '15:00:00', ARRAY['reunion', 'padres']),
    (target_user_id, 'Entrega de tareas', 'Entrega de tareas de ciencias #tareas #ciencias', 'entrega', CURRENT_DATE + INTERVAL '5 days', '12:00:00', ARRAY['tareas', 'ciencias']),
    (target_user_id, 'Evento deportivo', 'Competencia de atletismo #deporte #competencia', 'evento-escolar', CURRENT_DATE + INTERVAL '6 days', '08:00:00', ARRAY['deporte', 'competencia']);
    
    -- Eventos para la próxima semana
    INSERT INTO events (user_id, title, description, category, event_date, event_time, hashtags) VALUES
    (target_user_id, 'Vacaciones familiares', 'Inicio de vacaciones familiares #vacaciones #familia', 'personal', CURRENT_DATE + INTERVAL '10 days', NULL, ARRAY['vacaciones', 'familia']),
    (target_user_id, 'Examen final', 'Examen final de matemáticas #examen #matematicas', 'evento-escolar', CURRENT_DATE + INTERVAL '12 days', '09:00:00', ARRAY['examen', 'matematicas']);
END;
$$ LANGUAGE plpgsql;

-- Comentario: Para usar esta función, ejecuta:
-- SELECT insert_test_events_for_user('tu-user-id-aqui');
-- donde 'tu-user-id-aqui' es el UUID del usuario para el que quieres crear eventos de prueba